$(function () {

    $('input[type=date]').datepicker({
        format: 'yyyy-mm-dd',
    });

    $('.delete').on('click', function (e) {
        var link = $(this).parent('form').attr('action'),
            td = $(this).parents('tr'),
            token = $('meta[name=_token]').attr('content');
        e.preventDefault();
        $.confirm({
            theme: 'material',
            animation: 'RotateX',
            closeAnimation: 'RotateX',
            animationSpeed: 1000,
            title: 'Suppression',
            content: 'Êtes-vous sûr de vouloir le supprimer ?',
            confirmButton: 'Oui',
            cancelButton: 'Non',
            confirm: function () {
                $.ajax({
                    url: link,
                    type: 'DELETE',
                    headers: {'X-CSRF-TOKEN': token},
                }).always(function () {
                    td.remove();
                });
            }
        });
    });

})